#!/bin/bash

output=$(tmux ls)

# Use grep to find lines matching both conditions
matches=$(echo "$output" | grep -P '^\d+:.*(?<!\(attached\))$' | cut -d ':' -f 1)

# Loop through matched numbers and print them
for num in $matches; do
  tmux kill-session -t "$num"
done
